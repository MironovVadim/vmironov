<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping>
    <class name="ru.job4j.carstorage.Car" table="public.cars">

        <id name="id" column="id">
            <generator class="identity"/>
        </id>

        <many-to-one name="user" column="user_id"
                     class="ru.job4j.carstorage.User" not-null="true"/>

        <property name="mark" column="mark"/>
        <property name="model" column="model"/>
        <property name="releaseYear" column="release_year"/>
        <property name="mileage" column="mileage"/>
        <property name="bodyType" column="body_type"/>
        <property name="color" column="color"/>
        <property name="engineCapacity" column="engine_capacity"/>
        <property name="engineType" column="engine_type"/>
        <property name="power" column="power"/>
        <property name="cost" column="cost"/>
        <property name="sold" column="is_sold"/>
        <property name="description" column="description"/>
        <property name="created" column="created_date"/>

        <set name="comments" cascade="save-update" order-by="created_date asc" table="public.comments">
            <key column="car_id" not-null="true"/>
            <one-to-many class="ru.job4j.carstorage.Comment"/>
        </set>

        <bag name="images" cascade="save-update" table="public.images">
            <key column="car_id" not-null="true"/>
            <one-to-many class="ru.job4j.carstorage.Image"/>
        </bag>
    </class>
</hibernate-mapping>